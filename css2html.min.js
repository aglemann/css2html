(function(n,o){function p(c,h){var a=c.match(/^\w+/)||["div"],d=h.createElement(a[0]);if(a=c.match(/#(?![^\[]+[\]])([^.:\[]+)/))d.id=a[1];var f=c.match(/\.(?![^\[]+[\]])[^.:#\[]+/g)||[];f=f.join("").replace(/\./g," ").trim();(c.match(/\[([^\]'"]+(['"])[^\2]+\2|[^\]'"]+)\]|:(enabled|disabled|checked)/g)||[]).forEach(function(b){b=b.replace(/^[:\[]|['"]|[\]]$/g,"");b=b.split(/[~|\^$*]?=/);if(b[0]=="className"){if(b[1])f+=(f?" ":"")+b[1]}else if(b[0]=="id"){if(b[1])d.id=b[1]}else d.setAttribute(b[0],
b[1]||b[0])});if(f)d.className=f;a=(a=c.match(/:nth[^(]+\(([^)]+)\)/))?(parseInt(a[1],10)||1)+1:/:(first|last)-(of|child)/.test(c)?2:1;for(var e=[];a--;){var i=d.cloneNode(false);g.populate&&q(i);e.push(i)}return e}function r(c){var h="document"in this?document:require("jsdom").jsdom("<html><body></body></html>",null,{features:{QuerySelector:true}}),a=h.createElement("div"),d=[];c=c.replace(/\s+/g," ").replace(/\/\*(.|\n)*?\*\//g,"");c.split(/\{(?![^\[]+[\]])[^}]*\}/g).forEach(function(f){(f=f.replace(/\s*([,:>+](?![^\[]+[\]]))\s*/g,
"$1").trim())&&f.split(/,(?![^\[]+[\]])/).forEach(function(e){e=e.replace(/(:[:\-])(?![^\[]+[\]])[^ >+~]+/g,"").replace(/:(link|visited|active|hover|focus|first-l(etter|ine)|before|after|empty|target)/g,"").replace(/\[([^=]+)=([^\]'"]+)\]/,'[$1="$2"]');d.indexOf(e)==-1&&d.push(e)})});d.sort().forEach(function(f){f.split(/[+~](?![^\(\[]+[\)\]])/).forEach(function(e){var i=[a],b=0;e.split(/[ >](?![^\[]+[\]])/).forEach(function(k){b+=(b?1:0)+k.length;var l=e.substr(0,b),j=[];try{j=a.querySelectorAll(l)}catch(s){console.error(s)}if(!j.length){j=
p(k,h);i.forEach(function(t){j.forEach(function(m){m.setAttribute("data-selector",l);t.appendChild(m)})})}i=[].slice.call(j)})})});return a}function q(c){for(var h=(c.tagName+" "+c.className).toLowerCase().split(/[ -_]/),a=RegExp("^("+g.tags.join("|")+")$"),d=0,f=h.length,e;d<f;d++)if(a.test(e=h[d])){e=g.expand[e]||e;c.innerHTML=e.replace(/\b[a-z]/g,function(i){return i.toUpperCase()});break}}var g={expand:{a:"anchor",dd:"description",del:"deleted",dfn:"definition",dl:"definition list",dt:"term",
em:"emphasized",h1:"heading",h2:"heading",h3:"heading",h4:"heading",h5:"heading",h6:"heading",ins:"inserted",li:"item",ol:"ordered list",p:"paragraph",pre:"preformatted",q:"quotation",sub:"subscript",sup:"superscript",td:"data cell",th:"header cell",ul:"unordered list"},out:"nodes",populate:false,tags:["a","abbr","address","big","blockquote","button","caption","cite","code","dd","del","dfn","dt","em","h\\d","ins","kbd","label","legend","li","mark","option","p","pre","q","small","span","strong","sub",
"sup","td","textarea","th","tt","var"]};o[n]=function(c,h){var a=h||{};g.out=a.out||g.out;g.populate=a.populate||g.populate;if(typeof a.expand=="object")for(var d in a.expand)g.expand[d]=a.expand[d];if(a.tags instanceof Array)g.tags=a.tags;a=r(c);return g.out=="html"?a.innerHTML:[].slice.call(a.childNodes)}})("css2html",this);
